# 网络压力测试关注项目

Published on 2017 - 06 - 08

### 下面的几个项目安装文件都超小 几百k左右 均是模拟在线人数对网站进行并发压测

* `http_load` 单进程
* `webbench` linux测试工具
* `ab` apache自带的测试工具
* `Siege` 多个用户同时并发对网站进行压测

### 下面这个是在github上面找到的python图形化压测管理工具 flask写的

* `Locust` http://locust.io/

### siege请求注意的地方

* siege可以带header进行请求。因为自己的页面请求的时候需要首先登录菜可以，所以测试的时候直接取得浏览器登录后得到的cookie作为header里面的一部分即可。（不知道能不能siege先登录，然后再测试页面？）例子如下:

    `siege -H "Cookie:sessionid=asdasdasdasdjjm; csrftoken=sfsdfsXlbhJ" http://abc.com/test/ -c200 -t5s`

### 测试注意

* siege webbench在执行并发测试的时候都比较消耗当前机器资源，要注意测试机器和被测试机器要运行在不同的机器上面。
* 压力测试工作应该放到产品上线之前，而不是上线以后
* 测试时尽量跨公网进行，而不是内网
* 测试时并发应当由小逐渐加大，比如并发100时观察一下网站负载是多少、打开是否流程，并发200时又是多少、网站打开缓慢时并发是多少、网站打不开时并发又是多少
* 应尽量进行单元测试，如B2C网站可以着重测试购物车、推广页面等，因为这些页面占整个网站访问量比重较大

