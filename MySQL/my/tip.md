### 创建索引规则

* 主键和外键上面必须添加索引
* 左右连接时的条件字段上面加索引
* where 条件经常使用的字段加索引，但值幅度变化不大的不需要加索引
* where 经常使用多列的时候，可以考虑复合索引
* 索引在小的字段值上面效果越好，比如 int 型比 char 效果好
* 频繁更新的表不要加过多的索引，避免更新变慢
* 删除无用的索引，不然有时会意外影响其他索引的使用


### 查看索引的使用情况

    mysql> show global status like 'Handler_read%';

Handler_read_key 数值越大的话，表示索引使用率高  
Handler_read_rnd 查询直接操作了数据文件，是没有使用索引  
Handler_read_rnd_next 数值越大的话，表示索引低效  
Handler_read_next 此选项表明在进行索引扫描时，按照索引从数据文件里取数据的次数

### mysql 索引失效

1. 在 like 左侧是用 %
1. 使用 mysql 函数
1. 对索引进行运算
1. 隐式转换
1. 多列索引遵循最左规则
1. 使用 not
