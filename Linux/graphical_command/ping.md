 **ping命令** **-->用来检查网络的联通性**

 【**命令** **作用** 】

 该指令使用ICMP传输协议，发出要求回应的信息，若远端主机的网络没问题，就会回应该信息，因而得知该主机运行正常

 【 **故障信息** 】

 1) No Answer: 原因可能是，对方主机没工作，双方网络配置不正确，路由问题等。

 2) Request Time Out: 对方主机已关机，路由问题或对端防火墙设置禁止ping

 3) Unknown Host Name: DNS设置问题，或者对方主机不存在

 4) Destination Net Unreachable: 双方没有建立连接，或对方主机不存在

 5) Bad IP Address: IP地址不存在或IP不能被DNS服务器解析

 【 **测试步骤** 】

 1) 使用ifconfig观察本地网络设置是否正确  
2) ping 127.0.0.1来检查本地的TCP/IP协议有没有设置好  
3) ping本机IP地址，这样是为了检查本机的IP地址是否设置有误  
4) ping本网网关或本网IP地址来检查硬件设备或者本地网络是否正常  
5) ping本地DNS地址，这样做是为了检查DNS是否能够将IP正确解析  
6) ping远程IP地址，这主要是检查本网或本机与外部的连接是否正常

 

![][0]

 【 **Linux下允许禁止ping的方法** 】

     # 临时允许、禁止ping的设置

 

![][1]

     # 永久允许、禁止ping的设置

 1) /etc/sysctl.conf 中增加一行

     net.ipv4.icmp_echo_ignore_all=1 # 1表示禁止

     net.ipv4.icmp_echo_ignore_all=0 # 0表示允许

 2) 修改完成后执行 **sysctl -p** 使新配置生效

 【 **检查同一网段ip地址是up或者down** 】

 

![][2]

 

![][3]

 【 **ping请求说明** 】

 

![][4]

[0]: ./img/20170312111624170.png
[1]: ./img/20170312120642529.png
[2]: ./img/20170312203657278.png
[3]: ./img/20170312203822545.png
[4]: ./img/20170312204137497.png